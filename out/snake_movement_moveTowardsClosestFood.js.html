<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: snake/movement/moveTowardsClosestFood.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: snake/movement/moveTowardsClosestFood.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/** @module moveTowardClosestFood
 * @description This module implements logic to move towards the closest food on the board.
 * @exports moveTowardClosestFood
 */


/**
 * @function moveTowardClosestFood
 * @description This function finds the closest food to the Battlesnake's head and return safe moves so that the Battlesnake moves towards the closest food.
 * @param {Object} gameState - The current state of the game
 * @param {Object} isMoveSafe - A map of move => boolean
 * @returns {Object} isMoveSafe - The updated map of move => boolean
 */
export function moveTowardClosestFood(gameState, isMoveSafe) {
  const myHead = gameState.you.body[0]
  function getClosestFood() {
    let closestFood
    let closestDistance = Infinity
    for (const food of gameState.board.food) {
      const distance = getDistanceFromTo(myHead.x, myHead.y, food.x, food.y)
      if (distance &lt; closestDistance) {
        closestFood = food
        closestDistance = distance
      }
    }
    return closestFood
  }

  const closestFood = getClosestFood()
  let closestFoodDirection = []
  let newIsMoveSafe = {}

  if (closestFood.x == myHead.x) {
    closestFoodDirection =
      closestFood.y > myHead.y
        ? ['up', 'right', 'left', 'down']
        : ['down', 'right', 'left', 'up']
  } else if (closestFood.x > myHead.x) {
    if (closestFood.y == myHead.y) {
      closestFoodDirection = ['right', 'up', 'down', 'left']
    } else if (closestFood.y > myHead.y) {
      closestFoodDirection = ['right', 'up', 'left', 'down']
    } else {
      closestFoodDirection = ['right', 'down', 'left', 'up']
    }
  } else {
    if (closestFood.y == myHead.y) {
      closestFoodDirection = ['left', 'up', 'down', 'right']
    } else if (closestFood.y > myHead.y) {
      closestFoodDirection = ['left', 'up', 'right', 'down']
    } else {
      closestFoodDirection = ['left', 'down', 'right', 'up']
    }
  }

  for (const move of closestFoodDirection) {
    newIsMoveSafe[move] = isMoveSafe[move]
  }
  return newIsMoveSafe
}

/**
 * @function getDistanceFromTo
 * @description This function calculates the distance between two points.
 * @param {number} x1 - The x-coordinate of the first point.
 * @param {number} y1 - The y-coordinate of the first point.
 * @param {number} x2 - The x-coordinate of the second point.
 * @param {number} y2 - The y-coordinate of the second point.
 * @returns {number} - The distance between the two points.
 */
function getDistanceFromTo(x1, y1, x2, y2) {
  return Math.abs(x2 - x1) + Math.abs(y2 - y1)
}
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-avoidCollisionWithOtherSnakes.html">avoidCollisionWithOtherSnakes</a></li><li><a href="module-avoidHeadToHead.html">avoidHeadToHead</a></li><li><a href="module-avoidWalls.html">avoidWalls</a></li><li><a href="module-evaluateGameState.html">evaluateGameState</a></li><li><a href="module-floodFill.html">floodFill</a></li><li><a href="module-huntSmallerSnakes.html">huntSmallerSnakes</a></li><li><a href="module-moveTowardClosestFood.html">moveTowardClosestFood</a></li><li><a href="module-preventSelfCollision.html">preventSelfCollision</a></li><li><a href="module-server.html">server</a></li><li><a href="module-simulateMove.html">simulateMove</a></li></ul><h3>Global</h3><ul><li><a href="global.html#end">end</a></li><li><a href="global.html#info">info</a></li><li><a href="global.html#move">move</a></li><li><a href="global.html#printBoard">printBoard</a></li><li><a href="global.html#start">start</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.4</a> on Sat Jun 14 2025 15:38:53 GMT+0300 (Eastern European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
